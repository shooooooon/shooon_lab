# SHooon Lab - Project TODO

## Core Features

- [x] データベーススキーマ設計（記事、コメント、タグ、シリーズ）
- [x] バックエンドAPI実装（CRUD操作）
- [x] フロントエンド基盤（レイアウト、ナビゲーション）
- [x] 動的な記事ウェイト対応の特集記事スライダー
- [x] 記事詳細ページ（脚注、引用、ギャラリー、リッチメディア）
- [x] スレッドコメントシステム（ネスト返信）
- [x] コメントモデレーション機能（承認/削除）
- [x] アーカイブブラウザ（年、タグ、シリーズフィルタ）
- [x] 記事検索機能（全文検索）
- [x] 管理者用記事作成・編集機能
- [x] タグとシリーズ管理
- [x] レスポンシブデザイン

## Design

- [x] モダンな編集スタイルとタイポグラフィ
- [x] 配色：柔らかな白、チャコール、穏やかな金色

## Tests

- [x] API権限テスト（管理者/ユーザー/匿名）
- [x] 認証テスト


## CODE_REVIEW改善項目

### 最優先（セキュリティ）
- [x] #1 未公開記事のアクセス制御 - パラメータ化クエリに修正
- [x] #17 list APIのstatus公開問題 - adminProcedureを使用

### 高優先度
- [x] #2 queryでの副作用（ビューカウント）- 別mutationに分離
- [x] #4 コメント返信フォームバグ - 返信フォームを正しい位置に表示
- [x] #6 N+1クエリ問題 - JOINを使用して最適化

### 中優先度
- [x] #3 as anyの型キャスト - Zodスキーマを追加
- [x] #5 LIKEエスケープ - パラメータ化クエリに修正
- [x] #8 ユニーク制約 - article_tagsに複合ユニーク制約追加
- [x] #9 外部キー制約 - 参照整合性を確保
- [x] #10 コメント再帰削除 - カスケード削除を設定
- [x] #11 シリーズ削除時のnull化 - onDelete: set null設定
- [x] #12 DB初期化パターン - エラーハンドリング改善

### 低優先度
- [x] #7 adminProcedure重複 - 共通化済み
- [x] #13 ArticleCard重複・any型 - 共通コンポーネントに抽出
- [ ] #14 AdminSidebar配置 - 将来対応
- [x] #15 日本語スラッグ - フォールバック生成追加
- [ ] #16 型キャスト - 一部対応
- [ ] #18 レイアウト統一 - 将来対応
